<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Галерея - Естественный размер</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body { 
            margin: 0; 
            padding: 0; 
            overflow: hidden; 
        }
    </style>
</head>
<body>
    <a-scene 
        embedded 
        arjs="sourceType: webcam; debugUIEnabled: false;"
        renderer="logarithmicDepthBuffer: true;"
    >
        <!-- Маркер с фиксированным размером -->
        <a-marker 
            type="pattern" 
            url="https://raw.githubusercontent.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/trex-pattern/pat-ttrex.patt"
            size="0.5"  <!-- Фиксированный размер маркера в метрах -->
        >
            <a-entity id="content-container"></a-entity>
        </a-marker>
        
        <!-- Камера с фиксированными параметрами -->
        <a-entity 
            camera="fov: 60; zoom: 1; near: 0.01; far: 100;"
            arjs-marker-camera
            look-controls="enabled: false"
        ></a-entity>
    </a-scene>

    <script>
        // Данные с естественными размерами
        const contentData = [
            {
                imageUrl: "images/photo1.jpg",
                title: "Горный пейзаж",
                description: "Красивые горы на закате",
                // Позиция относительно маркера (в метрах)
                position: "0 0.3 0",
                // Размер в метрах (A4 ~ 0.21x0.297)
                scale: "0.21 0.297 1"
            },
            {
                imageUrl: "images/photo2.jpg", 
                title: "Океан",
                description: "Кристально чистая вода",
                position: "0 -0.15 0",
                scale: "0.21 0.297 1"
            }
        ];

        document.querySelector('a-scene').addEventListener('loaded', function() {
            const container = document.getElementById('content-container');
            
            contentData.forEach((item, index) => {
                // Фотография (плоскость)
                const photo = document.createElement('a-plane');
                photo.setAttribute('src', item.imageUrl);
                photo.setAttribute('position', item.position);
                photo.setAttribute('scale', item.scale);
                photo.setAttribute('material', 'shader: flat;');
                
                // Текст под фотографией
                const text = document.createElement('a-text');
                text.setAttribute('value', item.title);
                text.setAttribute('position', `${item.position.split(' ')[0]} ${parseFloat(item.position.split(' ')[1]) - 0.2} ${item.position.split(' ')[2]}`);
                text.setAttribute('align', 'center');
                text.setAttribute('color', '#000000');
                text.setAttribute('width', '0.4');
                
                container.appendChild(photo);
                container.appendChild(text);
            });
        });
    </script>
</body>
</html>
